<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>HANNOPEROMAT</title>
  <style>
    :root {
      --buehnenrot: #a11d21;
      --papierweiss: #f5f4f1;
      --kohleschwarz: #1a1a1a;
      --goldocker: #c9a94e;
    }

    body {
      font-family: Arial, sans-serif;
      background: var(--papierweiss);
      color: var(--kohleschwarz);
      display: flex;
      justify-content: center;
      padding: 2rem;
    }

    .container {
      max-width: 600px;
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    h1 {
      font-size: 3.2rem;
      letter-spacing: 2px;
      margin-bottom: 0.3rem;
      color: var(--buehnenrot);
    }

    .subtitle {
      font-size: 1rem;
      color: var(--kohleschwarz);
      margin: 0 auto 2rem;
      max-width: 100%;
    }

    #buttons button {
      margin: 0.5rem;
      padding: 0.8rem 1.4rem;
      font-size: 1rem;
      font-weight: bold;
      background-color: var(--goldocker);
      color: white;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      transition: background-color 0.2s, transform 0.1s;
    }

    #buttons button:hover {
      background-color: var(--buehnenrot);
    }

    #buttons button:active {
      transform: scale(0.96);
    }

    .button-clicked {
      animation: clickFlash 0.2s ease;
    }

    @keyframes clickFlash {
      0% { background-color: #ccc; }
      100% { background-color: inherit; }
    }

    .fade-in {
      animation: fadeIn 0.4s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    #result a {
      text-decoration: none;
      color: var(--buehnenrot);
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>HANNOPEROMAT</h1>
    <p class="subtitle">Welche Veranstaltungen der Staatsoper Hannover passen zu mir?</p>

    <div id="quiz-container">
      <p id="statement" class="fade-in"></p>
      <div id="buttons">
        <button onclick="handleAnswer(1, event)">Ja</button>
        <button onclick="handleAnswer(2, event)">Nein</button>
        <button onclick="handleAnswer(3, event)">Weiß nicht</button>
      </div>
    </div>

    <div id="result" class="hidden">
      <h2>Deine Empfehlungen:</h2>
      <ol id="recommendations"></ol>
    </div>
  </div>

  <script>
    const statements = [
      "Fünfeinhalbstündige Filme auf arte: kein Problem für mich!",
      "Krasse menschliche Emotionen zu erleben: Das ist mir zum Teil sehr unangenehm …",
      "Ich würde einen kleinen Club immer der großen Event-Halle vorziehen. Immer!",
      "Bei den Übertragungen der Olympischen Winterspiele freue ich mich immer am meisten auf Eiskunstlauf.",
      "Ich lache gerne und viel. Eine Drama-Serie braucht immer auch ein bisschen Comedy!",
      "Der größte Horror wäre für mich, von einem Comedian auf der Bühne im Publikum sitzend angesprochen zu werden.",
      "Ich mag es, oft neue Restaurants oder Bars auszuprobieren – und daheim bin ich auch immer auf der Suche nach neuen, originellen Rezepten.",
      "Wenn ich Filme und Serien schaue, dann eigentlich fast immer in Originalsprache mit Untertiteln!",
      "Ich liebe Filme wie Star Wars. Episode IV, Superman oder Hook.",
      "Im Museum freue ich mich immer am meisten über diese extrem abstrakten Kunstwerke, die plötzlich da im Raum stehen oder am Boden liegen und angeblich eine Million Euro gekostet haben."
    ];

    const resultsData = {
      "Veranstaltung A": [1, 2, 1, 1, 1, 2, 1, 1, 1, 2],
      "Veranstaltung B": [2, 1, 2, 1, 2, 1, 1, 3, 2, 1],
      "Veranstaltung C": [3, 3, 1, 2, 1, 3, 2, 1, 1, 3]
    };

    const resultLinks = {
      "Veranstaltung A": "https://staatsoper-hannover.de/a",
      "Veranstaltung B": "https://staatsoper-hannover.de/b",
      "Veranstaltung C": "https://staatsoper-hannover.de/c"
    };

    let current = 0;
    let answers = [];

    const statementEl = document.getElementById("statement");
    const quizContainer = document.getElementById("quiz-container");
    const resultContainer = document.getElementById("result");
    const recommendationsList = document.getElementById("recommendations");

    function showNextStatement() {
      if (current < statements.length) {
        statementEl.classList.remove("fade-in");
        void statementEl.offsetWidth;
        statementEl.textContent = statements[current];
        statementEl.classList.add("fade-in");
      } else {
        showResults();
      }
    }

    function handleAnswer(value, event) {
      const clickedButton = event.target;
      clickedButton.classList.add("button-clicked");
      setTimeout(() => clickedButton.classList.remove("button-clicked"), 200);

      answers.push(value);
      current++;
      setTimeout(showNextStatement, 400);
    }

    function showResults() {
      quizContainer.classList.add("hidden");
      const scores = {};

      for (const [title, pattern] of Object.entries(resultsData)) {
        let score = 0;
        for (let i = 0; i < answers.length; i++) {
          if (answers[i] === pattern[i]) {
            score++;
          }
        }
        scores[title] = score;
      }

      const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);

      sorted.slice(0, 3).forEach(([title]) => {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = resultLinks[title];
        a.textContent = title;
        a.target = "_blank";
        li.appendChild(a);
        recommendationsList.appendChild(li);
      });

      resultContainer.classList.remove("hidden");
    }

    // Start
    showNextStatement();
  </script>
</body>
</html>
