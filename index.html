<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>HANNOPEROMAT</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f6f3ee;
      margin: 0;
      padding: 2rem;
      display: flex;
      justify-content: center;
    }

    .container {
      max-width: 600px;
      width: 100%;
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    #statement {
      font-size: 1.2rem;
      margin: 2rem 0;
    }

    #buttons button {
      margin: 0.5rem;
      padding: 0.8rem 1.2rem;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      background-color: #cbb46a;
      color: white;
      cursor: pointer;
    }

    #result {
      margin-top: 2rem;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>HANNOPEROMAT</h1>
    <p id="statement">Lade Frage...</p>
    <div id="buttons">
      <button onclick="handleAnswer(1)">Ja</button>
      <button onclick="handleAnswer(2)">Nein</button>
      <button onclick="handleAnswer(3)">Weiß nicht</button>
    </div>
    <div id="result" class="hidden">
      <h2>Deine Empfehlungen:</h2>
      <ol id="recommendations"></ol>
    </div>
  </div>

  <script>
    const statements = [
      "Fünfeinhalbstündige Filme auf arte: kein Problem für mich!",
      "Krasse menschliche Emotionen zu erleben: Das ist mir zum Teil sehr unangenehm …",
      "Ich würde einen kleinen Club immer der großen Event-Halle vorziehen. Immer!",
      "Bei den Übertragungen der Olympischen Winterspiele freue ich mich immer am meisten auf Eiskunstlauf.",
      "Ich lache gerne und viel. Eine Drama-Serie braucht immer auch ein bisschen Comedy!",
      "Der größte Horror wäre für mich, von einem Comedian auf der Bühne im Publikum sitzend angesprochen zu werden.",
      "Ich mag es, oft neue Restaurants oder Bars auszuprobieren – und daheim bin ich auch immer auf der Suche nach neuen, originellen Rezepten.",
      "Wenn ich Filme und Serien schaue, dann eigentlich fast immer in Originalsprache mit Untertiteln!",
      "Ich liebe Filme wie Star Wars. Episode IV, Superman oder Hook.",
      "Im Museum freue ich mich immer am meisten über diese extrem abstrakten Kunstwerke, die plötzlich da im Raum stehen oder am Boden liegen und angeblich eine Million Euro gekostet haben."
    ];

    const resultLinks = {
      "Veranstaltung A": "https://staatsoper-hannover.de/a",
      "Veranstaltung B": "https://staatsoper-hannover.de/b",
      "Veranstaltung C": "https://staatsoper-hannover.de/c"
    };

    const resultsData = {
      "Veranstaltung A": [1, 2, 1, 1, 1, 2, 1, 1, 1, 2],
      "Veranstaltung B": [2, 1, 2, 1, 2, 1, 1, 3, 2, 1],
      "Veranstaltung C": [3, 3, 1, 2, 1, 3, 2, 1, 1, 3]
    };

    let current = 0;
    let answers = [];

    const statementEl = document.getElementById("statement");
    const resultContainer = document.getElementById("result");
    const recommendationsList = document.getElementById("recommendations");

    function showNextStatement() {
      if (current < statements.length) {
        statementEl.textContent = statements[current];
      } else {
        showResults();
      }
    }

    function handleAnswer(value) {
      answers.push(value);
      current++;
      showNextStatement();
    }

    function showResults() {
      document.getElementById("buttons").classList.add("hidden");
      resultContainer.classList.remove("hidden");

      const scores = {};
      for (const event in resultsData) {
        const profile = resultsData[event];
        let score = 0;
        for (let i = 0; i < answers.length; i++) {
          if (answers[i] === profile[i]) score++;
        }
        scores[event] = score;
      }

      const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
      recommendationsList.innerHTML = "";
      sorted.forEach(([event]) => {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = resultLinks[event];
        a.textContent = event;
        a.target = "_blank";
        li.appendChild(a);
        recommendationsList.appendChild(li);
      });

      statementEl.textContent = "Danke für deine Antworten!";
    }

    // Start immediately
    showNextStatement();
  </script>
</body>
</html>
